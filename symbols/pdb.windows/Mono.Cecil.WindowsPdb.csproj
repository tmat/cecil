<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project="..\..\Mono.Cecil.props" />
  <PropertyGroup>
    <ProjectGuid>{1A7F5B01-F15F-4943-8AF5-CB736C60B1BE}</ProjectGuid>
    <RootNamespace>Mono.Cecil.WindowsPdb</RootNamespace>
    <AssemblyName>Mono.Cecil.WindowsPdb</AssemblyName>
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
  </PropertyGroup>
  <PropertyGroup>
    <IsPackable>true</IsPackable>
    <Authors>Microsoft</Authors>
    <Owners>Microsoft</Owners>
    <Description>Mono.Cecil symbol provider for Windows PDBs</Description>
    <PackageReleaseNotes>Mono.Cecil symbol provider for Windows PDBs</PackageReleaseNotes>
    <PackageTags>Mono.Cecil symbol provider Windows PDBs</PackageTags>
  </PropertyGroup>
  <ItemGroup>
    <ProjectReference Include="..\..\Mono.Cecil.csproj">
      <Project>{D68133BD-1E63-496E-9EDE-4FBDBF77B486}</Project>
      <Name>Mono.Cecil</Name>
    </ProjectReference>
    <ProjectReference Include="..\pdb\Mono.Cecil.Pdb.csproj">
      <Project>{63e6915c-7ea4-4d76-ab28-0d7191eea626}</Project>
      <Name>Mono.Cecil.Pdb</Name>
    </ProjectReference>
  </ItemGroup>
  <ItemGroup>
    <PackageReference Include="Microsoft.DiaSymReader" Version="1.2.0-beta1-61723-01" />
    <PackageReference Include="Microsoft.DiaSymReader.Native" Version="1.6.0-beta2-25304" />
    <PackageReference Include="System.Collections.Immutable" Version="1.3.1" />
    <PackageReference Include="System.Reflection.Metadata" Version="1.4.2" />
    <PackageReference Include="System.ValueTuple" Version="4.3.0" />
    <PackageReference Include="Microsoft.CodeAnalysis.PooledObjects" Version="2.6.0-beta1-61817-01" />
    <PackageReference Include="Microsoft.CodeAnalysis.Debugging" Version="2.6.0-beta1-61817-01" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="Mono.Cecil.Pdb\AssemblyInfo.cs" />
    <Compile Include="Mono.Cecil.Pdb\ModuleMetadata.cs" />
    <Compile Include="Mono.Cecil.Pdb\NativePdbWriter.cs" />
    <Compile Include="Mono.Cecil.Pdb\PdbHelper.cs" />
    <Compile Include="Mono.Cecil.Pdb\ProjectInfo.cs" />
  </ItemGroup>
  
  <!-- Workaround for https://github.com/NuGet/Home/issues/4856 -->
  <ItemGroup>
    <Compile Update="@(Compile)">
      <Link Condition="'%(NuGetPackageId)' != ''">%(NuGetPackageId)\%(Link)</Link>
    </Compile>
  </ItemGroup>
</Project>